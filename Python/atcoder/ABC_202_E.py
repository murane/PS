import sys
r=sys.stdin.readline
N=int(r())
parents=[-1]+list(map(int,r().splilt()))
Q=int(r())
query=[]
for _ in range(Q):
    U,D=map(int,r().split())


